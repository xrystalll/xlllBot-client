{"version":3,"sources":["components/videos/index.jsx","components/support/CustomScrollbar.jsx","components/support/Utils.js","components/support/PrivateRoute.jsx","components/support/GeneralRoute.jsx","config.js","instance/Socket.js","components/home/index.jsx","components/partials/Card/index.jsx","components/partials/Switch/index.jsx","components/channel/BotAlerts.jsx","components/channel/TwitchPlayer.jsx","components/channel/TwitchChat.jsx","components/partials/Header/index.jsx","components/partials/Footer/index.jsx","components/partials/Layout/index.jsx","components/partials/Loader.jsx","components/channel/index.jsx","hooks/useForm.jsx","components/commands/NewCommandItem.jsx","components/commands/CommandItem.jsx","components/partials/Fab/index.jsx","components/partials/Errorer/index.jsx","components/commands/index.jsx","components/badwords/NewBadwordItem.jsx","components/badwords/BadwordItem.jsx","components/badwords/index.jsx","components/videos/VideoItem.jsx","components/events/EventItem.jsx","components/events/index.jsx","components/settings/SettingItem.jsx","components/settings/index.jsx","components/allcommands/CommandItem.jsx","components/allcommands/index.jsx","components/auth/index.jsx","components/auth/error.jsx","components/error/index.jsx","App.jsx","index.js"],"names":["player","CustomScrollbar","autoHide","renderTrackHorizontal","props","className","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","renderView","this","children","Component","getCookie","key","match","document","cookie","undefined","clearCookies","split","map","replace","Date","toUTCString","PrivateRoute","isAuth","toast","error","component","rest","render","to","pathname","state","from","location","GeneralRoute","apiEndPoint","socket","io","Home","_isMounted","authClicked","title","setState","on","data","auth","timeout","setTimeout","history","push","clearTimeout","url","window","open","onClick","openAuth","bind","overflow","width","height","version","viewBox","x","y","points","transform","d","href","target","rel","withRouter","Card","action","cssClass","Switch","checked","onChange","type","BotModerator","botUsername","BotActive","changeActive","TwitchPlayer","channel","src","hostname","frameBorder","allowFullScreen","scrolling","TwitchChat","Header","showMenu","login","logo","decodeURIComponent","toggleMenu","closeMenu","addEventListener","handleOutsideClick","removeEventListener","e","closest","menuVis","id","style","exact","Fragment","Footer","Layout","subTitle","videoLayout","videoblock","Loader","xmlns","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","calcMode","values","keyTimes","dur","begin","repeatCount","Channel","useHistory","useState","setChannel","isModerator","setModerator","botActive","setActive","useEffect","fetchChannel","a","fetch","headers","Authorization","btoa","status","json","name","bot_active","console","fetchModerators","moderators","length","botIsModerator","filter","i","toLowerCase","joinToChat","then","response","Error","success","catch","err","message","leaveChat","currentTarget","useForm","initialValues","setValues","handleChange","value","reset","NewCommandItem","addCommand","toggleAdd","tag","text","countdown","errOne","setErrOne","errTwo","setErrTwo","errThree","setErrThree","errorOne","errorTwo","errorThree","onSubmit","preventDefault","trim","placeholder","defaultValue","CommandItem","editCommand","deleteCommand","editAction","toggleEditAction","active","changeEditState","_id","Fab","icon","Errorer","size","color","Commands","showAdd","toggleAddState","noData","setNoData","items","setItems","reverse","fetchCommands","method","body","JSON","stringify","item","NewBadwordItem","addBadword","word","duration","BadwordItem","deleteBadword","Badwords","fetchBadwords","VideoItem","index","playIndex","chooseVideo","deleteVideo","selected","yid","username","price","thumb","sec","hours","Math","floor","minutes","seconds","toHHMMSS","owner","count","toFixed","counter","views","Videos","playing","onPlay","onPause","skip","emit","subscribeToEvents","getPlayerState","pauseVideo","playVideo","Number","loadVideoById","thisIndex","stopPropagation","onPlayPause","opts","playerVars","autoplay","videoId","containerClassName","onReady","onPlayerReady","onEnd","EventItem","timestamp","thisYear","t","months","curYear","getFullYear","curMonth","getMonth","curDate","getDate","year","month","date","hour","getHours","min","getMinutes","timeFormat","time","Events","showClear","deletedCount","info","clearVis","deleteEvents","SettingItem","changeSetting","setErr","defaultChecked","htmlFor","parentNode","description","Settings","sort","b","fetchSettings","short","game","AllCommand","commands","all","mods","fetchGames","Auth","close","AuthError","class","NotFound","App","path","AllCommands","position","autoClose","pauseOnFocusLoss","ReactDOM","querySelector"],"mappings":"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","file":"static/js/main.e6820c6c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { getCookie } from 'components/support/Utils';\r\nimport { socket } from 'instance/Socket';\r\nimport YouTube from 'react-youtube';\r\nimport CustomScrollbar from '../support/CustomScrollbar';\r\nimport { VideoItem } from './VideoItem';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport Fab from 'components/partials/Fab';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport Errorer from 'components/partials/Errorer';\r\n\r\nlet player\r\nclass Videos extends Component {\r\n  _isMounted = false;\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      response: [],\r\n      playIndex: 0,\r\n      playing: false,\r\n      noData: false\r\n    }\r\n    this.onPlay = this.onPlay.bind(this)\r\n    this.onPause = this.onPause.bind(this)\r\n    this.chooseVideo = this.chooseVideo.bind(this)\r\n    this.deleteVideo = this.deleteVideo.bind(this)\r\n    this.skip = this.skip.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.title = 'xlllBot - Stream Dj'\r\n    this._isMounted = true\r\n    socket.emit('video_items', { channel: getCookie('login') })\r\n    this.subscribeToEvents()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n  }\r\n\r\n  subscribeToEvents() {\r\n    if (!this._isMounted) return\r\n\r\n    socket.on('output_videos', (data) => {\r\n      if (data.length > 0) {\r\n        this.setState({ response: data })\r\n      } else {\r\n        this.setState({ noData: true })\r\n      }\r\n    })\r\n    socket.on('new_video', (data) => {\r\n      if (data.channel !== getCookie('login')) return\r\n\r\n      this.setState({ response: [...this.state.response, data], noData: false })\r\n    })\r\n    socket.on('deteted', (data) => {\r\n      this.setState({ response: this.state.response.filter(item => item._id !== data.id) })\r\n      if (this.state.response.filter(item => item._id !== data.id).length === 0) {\r\n        this.setState({ noData: true })\r\n      }\r\n    })\r\n    socket.on('skip', (data) => {\r\n      if (data.channel !== getCookie('login')) return\r\n      if (player === undefined) return\r\n      if (player.getPlayerState() !== 1) return\r\n\r\n      this.skip()\r\n    })\r\n  }\r\n\r\n  onPlayerReady(e) {\r\n    player = e.target\r\n  }\r\n\r\n  onPlay() {\r\n    this.setState({ playing: true })\r\n  }\r\n\r\n  onPause() {\r\n    this.setState({ playing: false })\r\n  }\r\n\r\n  onPlayPause() {\r\n    if (player === undefined) return\r\n\r\n    if (player.getPlayerState() === 1) player.pauseVideo()\r\n    else player.playVideo()\r\n  }\r\n\r\n  chooseVideo(data) {\r\n    if (!this._isMounted) return\r\n\r\n    this.setState({ playIndex: Number(data.index) })\r\n\r\n    if (player === undefined) return\r\n\r\n    player.loadVideoById(data.id)\r\n  }\r\n\r\n  skip() {\r\n    if (!this._isMounted) return\r\n\r\n    const { response, playIndex } = this.state\r\n\r\n    if (response.length === 0) return\r\n\r\n    let thisIndex = playIndex + 1\r\n    if (thisIndex >= response.length) thisIndex = 0\r\n    this.setState({ playIndex: thisIndex })\r\n    const id = response[thisIndex].yid\r\n\r\n    if (player === undefined) return\r\n\r\n    player.loadVideoById(id)\r\n  }\r\n\r\n  deleteVideo(id, e) {\r\n    e.stopPropagation()\r\n    socket.emit('delete_video', { id, channel: getCookie('login') })\r\n  }\r\n\r\n  render() {\r\n    const { response, playIndex, playing, noData } = this.state\r\n    const ytOptions = {\r\n      height: '384',\r\n      width: '560',\r\n      playerVars: {\r\n        autoplay: 0\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Layout\r\n        title=\"Stream Dj\"\r\n        subTitle=\"Dashboard\"\r\n        videoLayout={true}\r\n        action={\r\n          <div className=\"controls\">\r\n            <Fab icon={playing ? 'pause' : 'play_arrow'} title=\"Play/Pause\" onClick={this.onPlayPause} className=\"inheader\" />\r\n            <Fab icon=\"skip_next\" title=\"Skip\" onClick={this.skip} className=\"inheader small\" />\r\n          </div>\r\n        }\r\n      >\r\n        <Card className=\"videos_inner\">\r\n          <div className=\"vid-main-wrapper\">\r\n            <div className=\"vid-container\">\r\n              {response.length > 0 ? (\r\n                <YouTube\r\n                  opts={ytOptions}\r\n                  videoId={response[0].yid}\r\n                  containerClassName=\"iframe\"\r\n                  onPlay={this.onPlay}\r\n                  onPause={this.onPause}\r\n                  onReady={this.onPlayerReady}\r\n                  onEnd={this.skip}\r\n                />\r\n              ) : (\r\n                !noData ? <Loader /> : <Errorer message=\"No videos yet\" />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"vid-list-container\">\r\n              <CustomScrollbar className=\"view\">\r\n                <ul>\r\n                  <ol id=\"vid-list\">\r\n                    {response.length > 0 && (\r\n                      response.map((item, index) => (\r\n                        <VideoItem\r\n                          key={item._id}\r\n                          index={index}\r\n                          playIndex={playIndex}\r\n                          data={item}\r\n                          chooseVideo={this.chooseVideo}\r\n                          deleteVideo={this.deleteVideo}\r\n                        />\r\n                      ))\r\n                    )}\r\n                  </ol>\r\n                </ul>\r\n              </CustomScrollbar>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Videos;\r\n","import React, { Component } from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nclass CustomScrollbar extends Component {\r\n  render() {\r\n    return (\r\n      <Scrollbars\r\n        autoHide\r\n        renderTrackHorizontal={props => <div {...props} className=\"track-horizontal\" />}\r\n        renderTrackVertical={props => <div {...props} className=\"track-vertical\" />}\r\n        renderThumbHorizontal={props => <div {...props} className=\"thumb-horizontal\" />}\r\n        renderThumbVertical={props => <div {...props} className=\"thumb-vertical\" />}\r\n        renderView={props => <div {...props} className={this.props.className} />}\r\n      >\r\n        {this.props.children}\r\n      </Scrollbars>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CustomScrollbar;\r\n","export const toHHMMSS = (sec = 0) => {\r\n  const hours = Math.floor(sec / 3600)\r\n  const minutes = Math.floor((sec - (hours * 3600)) / 60)\r\n  const seconds = sec - (hours * 3600) - (minutes * 60)\r\n\r\n  return (\r\n    (hours || '') + (hours > 0 ? ':' : '') +\r\n    (minutes < 10 && hours > 0 ? '0' : '') + minutes + ':' +\r\n    (seconds < 10 ? '0' : '') + seconds\r\n  )\r\n}\r\n\r\nexport const counter = (count = 0) => {\r\n  if (count < 1e3) return count\r\n  if (count >= 1e3 && count < 1e6) return `${(count / 1e3).toFixed(1)}K`\r\n  if (count >= 1e6 && count < 1e9) return `${(count / 1e6).toFixed(1)}M`\r\n  if (count >= 1e9 && count < 1e12) return `${(count / 1e9).toFixed(1)}B`\r\n}\r\n\r\nexport const timeFormat = (timestamp) => {\r\n  const d = new Date()\r\n  const t = new Date(Number(timestamp))\r\n\r\n  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n\r\n  const curYear = d.getFullYear()\r\n  const curMonth = months[d.getMonth()]\r\n  const curDate = d.getDate()\r\n\r\n  const year = t.getFullYear()\r\n  const month = months[t.getMonth()]\r\n  const date = t.getDate()\r\n  const hour = t.getHours()\r\n  const min = t.getMinutes() < 10 ? `0${t.getMinutes()}` : t.getMinutes()\r\n\r\n  let thisYear\r\n  year !== curYear ? thisYear = ` ${year}` : thisYear = ''\r\n\r\n  if (`${date}.${month}.${year}` === `${curDate}.${curMonth}.${curYear}`) {\r\n    return `today at ${hour}:${min}`\r\n  } else if (`${date}.${month}.${year}` === `${curDate - 1}.${curMonth}.${curYear}`) {\r\n    return `yesterday at ${hour}:${min}`\r\n  } else {\r\n    return `${date} ${month}${thisYear} at ${hour}:${min}`\r\n  }\r\n}\r\n\r\nexport const getCookie = (key) => {\r\n  const match = document.cookie.match(`(^|;) ?${key}=([^;]*)(;|$)`)\r\n  return match ? match[2] : undefined\r\n}\r\n\r\nexport const clearCookies = () => {\r\n  document.cookie.split(';').map(cookie => {\r\n    document.cookie = cookie.replace(/^ +/, '').replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/')\r\n    return true\r\n  })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getCookie } from 'components/support/Utils';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass PrivateRoute extends Component {\r\n  constructor() {\r\n    super();\r\n    this.isAuth = !!getCookie('login') && !!getCookie('token')\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.isAuth) toast.error('You are not authorized')\r\n  }\r\n\r\n  render() {\r\n    const { component: Component, ...rest } = this.props\r\n\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render = {props =>\r\n          this.isAuth ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n          )\r\n        }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nclass GeneralRoute extends Component {\r\n  render() {\r\n    const { component: Component, ...rest } = this.props\r\n\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render = {props => (\r\n          <Component {...props} />\r\n        )}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default GeneralRoute;\r\n","const apiEndPoint = 'http://localhost:7000'\r\nconst botUsername = 'xlllbot' // your bot username on twitch\r\n\r\nexport { apiEndPoint, botUsername }\r\n","import io from 'socket.io-client';\r\nimport { apiEndPoint } from 'config';\r\n\r\nexport const socket = io(apiEndPoint);\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { getCookie } from 'components/support/Utils';\r\nimport { apiEndPoint } from 'config';\r\nimport { socket } from 'instance/Socket';\r\nimport './style.css';\r\n\r\nclass Home extends Component {\r\n  _isMounted = false;\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isAuth: false,\r\n      authClicked: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.title = 'xlllBot'\r\n    this._isMounted = true\r\n    if (getCookie('login') && getCookie('token')) {\r\n      this.setState({ isAuth: true })\r\n    }\r\n    socket.on('auth', (data) => {\r\n      if (!this.state.authClicked) return\r\n\r\n      if (!data.error) {\r\n        if (!this._isMounted) return\r\n\r\n        data.auth && this.setState({ isAuth: true, authClicked: false })\r\n        this.timeout = setTimeout(() => this.props.history.push('/dashboard/channel'), 1500)\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n    clearTimeout(this.timeout)\r\n  }\r\n\r\n  openAuth(url) {\r\n    if (!this._isMounted) return\r\n\r\n    this.setState({ authClicked: true })\r\n    window.open(url, 'Sign in via Twitch', 'height=520,width=480')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"landing\">\r\n        <div className=\"bg\" />\r\n        <div className=\"container\">\r\n          <div className=\"landing_content\">\r\n            <h1 className=\"main_head\">xlllBot</h1>\r\n            <div className=\"main_sub\">Chat bot for Twitch</div>\r\n            <div className=\"auth_block_main\">\r\n              {this.state.isAuth ? (\r\n                <Link className=\"twitch_btn_main\" to=\"/dashboard/channel\">Open dashboard</Link>\r\n              ) : (\r\n                <div onClick={this.openAuth.bind(this, apiEndPoint + '/auth/twitch')} className=\"twitch_btn_main\">\r\n                  <svg className=\"tw-glitch-logo__svg\" overflow=\"visible\" width=\"40px\" height=\"40px\" version=\"1.1\" viewBox=\"0 0 40 40\" x=\"0px\" y=\"0px\">\r\n                    <polygon className=\"tw-glitch-logo__body\" points=\"13 8 8 13 8 31 14 31 14 36 19 31 23 31 32 22 32 8\" />\r\n                    <polygon className=\"tw-glitch-logo__face\" points=\"26 25 30 21 30 10 14 10 14 25 18 25 18 29 22 25\" transform=\"translate(0 0)\" />\r\n                    <path className=\"tw-glitch-logo__eyes\" d=\"M20,14 L22,14 L22,20 L20,20 L20,14 Z M27,14 L27,20 L25,20 L25,14 L27,14 Z\" transform=\"translate(0 0)\" />\r\n                  </svg>\r\n                  Sign in via Twitch\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"main_copy\">\r\n            <a href={'https://github.com/xrystalll'} target=\"_blank\" rel=\"noopener noreferrer\">by xrystalll</a>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Home);\r\n","import React from 'react';\r\nimport '././style.css';\r\n\r\nconst Card = ({ title, action, className, children }) => {\r\n  const cssClass = !!className ? ' ' + className : ''\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card__body\">\r\n        <div className=\"card__sub\">\r\n          {!!title && <h4>{title}</h4>}\r\n          {!!action && action}\r\n          <div className={'content_inner' + cssClass}>\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport '././style.css';\r\n\r\nconst Switch = ({ checked, onChange, children }) => {\r\n  return (\r\n    <label className=\"switch\">\r\n      <input type=\"checkbox\" onChange={onChange.bind(this)} checked={checked} />\r\n      <span>\r\n        {children}\r\n      </span>\r\n    </label>\r\n  )\r\n}\r\n\r\nexport default Switch;\r\n","import React from 'react';\r\nimport Card from 'components/partials/Card';\r\nimport Switch from 'components/partials/Switch';\r\n\r\nexport const BotModerator = ({ botUsername }) => {\r\n  return (\r\n    <Card>\r\n      <div className=\"error_title\">\r\n        <div className=\"alert_info\">\r\n          <i className=\"material-icons-outlined\">error_outline</i>\r\n          {botUsername} не является модератором в чате!\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport const BotActive = ({ state, botUsername, changeActive }) => {\r\n  return (\r\n    <Card>\r\n      <div className={state ? 'success_title' : 'error_title'}>\r\n        <div className=\"alert_info\">\r\n          <i className=\"material-icons-outlined\">error_outline</i>\r\n          <Switch onChange={changeActive.bind(this)} checked={state}>\r\n            {state ? `${botUsername} подключен к чату` : `${botUsername} не активен! Нажмите чтобы активировать`}\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport const TwitchPlayer = ({ channel }) => {\r\n  return (\r\n    <iframe\r\n      title=\"TwitchPlayer\"\r\n      src={`https://player.twitch.tv/?channel=${channel}&parent=` + document.location.hostname}\r\n      frameBorder=\"0\"\r\n      allowFullScreen={true}\r\n      scrolling=\"no\"\r\n      width=\"560\"\r\n      height=\"384\" />\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport const TwitchChat = ({ channel }) => {\r\n  return (\r\n    <iframe\r\n      title=\"TwitchChat\"\r\n      src={`https://www.twitch.tv/embed/${channel}/chat?darkpopout&parent=` + document.location.hostname}\r\n      frameBorder=\"0\"\r\n      scrolling=\"no\"\r\n      width=\"284\"\r\n      height=\"384\" />\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { getCookie } from 'components/support/Utils';\r\nimport CustomScrollbar from 'components/support/CustomScrollbar';\r\nimport '././style.css';\r\n\r\nclass Header extends Component {\r\n  _isMounted = false;\r\n  constructor() {\r\n    super();\r\n    this.isAuth = !!getCookie('login') && !!getCookie('token')\r\n    this.state = {\r\n      showMenu: false,\r\n      login: getCookie('login'),\r\n      logo: decodeURIComponent(getCookie('logo'))\r\n    }\r\n    this.toggleMenu = this.toggleMenu.bind(this)\r\n    this.closeMenu = this.closeMenu.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true\r\n    document.addEventListener('click', this.handleOutsideClick.bind(this), false)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n    document.removeEventListener('click', this.handleOutsideClick.bind(this), false)\r\n  }\r\n\r\n  toggleMenu() {\r\n    if (!this._isMounted) return\r\n\r\n    this.setState({\r\n      showMenu: !this.state.showMenu\r\n    })\r\n  }\r\n\r\n  closeMenu() {\r\n    if (!this._isMounted) return\r\n\r\n    this.setState({\r\n      showMenu: false\r\n    })\r\n  }\r\n\r\n  handleOutsideClick(e) {\r\n    if (!e.target.closest('.open')) {\r\n      this.closeMenu()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { login, logo, showMenu } = this.state\r\n    const menuVis = showMenu ? 'open' : ''\r\n\r\n    return (\r\n      <>\r\n        <header id=\"header\" className={menuVis}>\r\n          <div className=\"logo\">\r\n            <i onClick={this.toggleMenu} className=\"logo__trigger material-icons\">menu</i>\r\n            <h1>xlllBot</h1>\r\n          </div>\r\n\r\n          {this.isAuth && (\r\n            <ul className=\"top-menu\">\r\n              <li className=\"top-menu__profile\">\r\n                <Link to=\"/dashboard/channel\">\r\n                  <span className=\"userName\">{login || ''}</span>\r\n                  <div className=\"userPhoto\" style={{ 'backgroundImage': `url(${logo || ''})` }}></div>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          )}\r\n        </header>\r\n\r\n        <nav id=\"navigation\" className={menuVis}>\r\n          <CustomScrollbar className=\"navigation__menu\">\r\n            <ul>\r\n              <li>\r\n                <NavLink exact to=\"/\" onClick={this.closeMenu}>\r\n                  <i className=\"nav-ic\">home</i>\r\n                  Home\r\n                </NavLink>\r\n              </li>\r\n              {this.isAuth && (\r\n                <React.Fragment>\r\n                  <li>\r\n                    <NavLink to=\"/dashboard/channel\" onClick={this.closeMenu}>\r\n                      <i className=\"nav-ic\">person</i>\r\n                      Channel\r\n                    </NavLink>\r\n                  </li>\r\n                  <li>\r\n                    <NavLink to=\"/dashboard/commands\" onClick={this.closeMenu}>\r\n                      <i className=\"material-icons\">list</i>\r\n                      Commands\r\n                    </NavLink>\r\n                  </li>\r\n                  <li>\r\n                    <NavLink to=\"/dashboard/badwords\" onClick={this.closeMenu}>\r\n                      <i className=\"nav-ic\">voice_over_off</i>\r\n                      Badwords\r\n                    </NavLink>\r\n                  </li>\r\n                  <li>\r\n                    <NavLink to=\"/dashboard/videos\" onClick={this.closeMenu}>\r\n                      <i className=\"material-icons\">playlist_play</i>\r\n                      Stream Dj\r\n                    </NavLink>\r\n                  </li>\r\n                  <li>\r\n                    <NavLink to=\"/dashboard/events\" onClick={this.closeMenu}>\r\n                      <i className=\"material-icons\">playlist_add_check</i>\r\n                      Events\r\n                    </NavLink>\r\n                  </li>\r\n                  <li>\r\n                    <NavLink to=\"/dashboard/settings\" onClick={this.closeMenu}>\r\n                      <i className=\"nav-ic\">settings</i>\r\n                      Settings\r\n                    </NavLink>\r\n                  </li>\r\n                </React.Fragment>\r\n              )}\r\n              <li>\r\n                <NavLink to=\"/commands\" onClick={this.closeMenu}>\r\n                  <i className=\"material-icons\">list</i>\r\n                  All commands\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </CustomScrollbar>\r\n        </nav>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCookie, clearCookies } from 'components/support/Utils';\r\nimport '././style.css';\r\n\r\nconst Footer = () => {\r\n  const isAuth = !!getCookie('login') && !!getCookie('token')\r\n\r\n  const logout = () => {\r\n    clearCookies()\r\n  }\r\n\r\n  return (\r\n    <footer id=\"footer\" className=\"content--boxed-sm\">\r\n      <div className=\"other_copy\">xlllBot 2020 <a href={'https://github.com/xrystalll'} target=\"_blank\" rel=\"noopener noreferrer\">by xrystalll</a></div>\r\n\r\n      {isAuth && (\r\n        <ul className=\"footer__menu\">\r\n          <li>\r\n            <Link to=\"/\">Home</Link>\r\n          </li>\r\n            <li>\r\n              <Link to=\"/dashboard/commands\">Commands</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/dashboard/badwords\">Badwords</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/dashboard/settings\">Settings</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/\" onClick={logout}>Log out</Link>\r\n            </li>\r\n        </ul>\r\n      )}\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport Header from 'components/partials/Header';\r\nimport Footer from 'components/partials/Footer';\r\nimport '././style.css';\r\n\r\nconst Layout = ({ title, subTitle, videoLayout, action, children }) => {\r\n  const videoblock = videoLayout ? ' videoblock' : ''\r\n\r\n  return (\r\n    <div className=\"layout\">\r\n      <Header />\r\n\r\n      <section id=\"main\">\r\n        <div className={'content--boxed-sm' + videoblock}>\r\n          <header className=\"content__header\">\r\n            <h2>{title} {!!subTitle && <small>{subTitle}</small>}</h2>\r\n            {!!action && action}\r\n          </header>\r\n          {children}\r\n        </div>\r\n\r\n        <Footer />\r\n\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <div className=\"content_loader\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n        <circle cx=\"50\" cy=\"50\" fill=\"none\" stroke=\"#fff\" strokeWidth=\"10\" r=\"35\" strokeDasharray=\"164.93361431346415 56.97787143782138\" transform=\"rotate(359.289 50.0009 50.0009)\">\r\n          <animateTransform attributeName=\"transform\" type=\"rotate\" calcMode=\"linear\" values=\"0 50 50;360 50 50\" keyTimes=\"0;1\" dur=\"1.2s\" begin=\"0s\" repeatCount=\"indefinite\" />\r\n        </circle>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getCookie, clearCookies } from 'components/support/Utils';\r\nimport { botUsername, apiEndPoint } from 'config';\r\nimport { BotModerator, BotActive } from './BotAlerts';\r\nimport { TwitchPlayer } from './TwitchPlayer';\r\nimport { TwitchChat } from './TwitchChat';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Channel = () => {\r\n  const history = useHistory()\r\n\r\n  const [channel, setChannel] = useState('')\r\n  const [isModerator, setModerator] = useState(true)\r\n  const [botActive, setActive] = useState(false)\r\n\r\n  useEffect(() => {\r\n    document.title = 'xlllBot - Channel'\r\n    const fetchChannel = async () => {\r\n      try {\r\n        const data = await fetch(apiEndPoint + '/api/channel', {\r\n          headers: {\r\n            Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n          }\r\n        })\r\n        if (data.status === 401) {\r\n          clearCookies()\r\n          toast.error('You are not authorized')\r\n          history.push('/')\r\n          return\r\n        }\r\n        const channel = await data.json()\r\n\r\n        setChannel(channel[0].name)\r\n        if (!!channel[0].bot_active) setActive(true)\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    const fetchModerators = async () => {\r\n      try {\r\n        const data = await fetch(apiEndPoint + '/api/channel/mods', {\r\n          headers: {\r\n            Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n          }\r\n        })\r\n        if (data.status === 401) {\r\n          clearCookies()\r\n          toast.error('You are not authorized')\r\n          history.push('/')\r\n          return\r\n        }\r\n        const moderators = await data.json()\r\n\r\n        if (moderators.length) {\r\n          const botIsModerator = !!moderators.filter(i => i === botUsername.toLowerCase()).length\r\n\r\n          setModerator(botIsModerator)\r\n        }\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    fetchChannel()\r\n    fetchModerators()\r\n  }, [history])\r\n\r\n  const changeActive = (e) => {\r\n    const bool = e.currentTarget.checked\r\n    bool ? joinToChat() : leaveChat()\r\n  }\r\n\r\n  const joinToChat = () => {\r\n    fetch(apiEndPoint + '/api/bot/join', {\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          setActive(true)\r\n          toast.success('Bot successfully joined to chat')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => {\r\n        setActive(false)\r\n        toast.error(err ? err.message : 'Failed to join')\r\n      })\r\n  }\r\n\r\n  const leaveChat = () => {\r\n    fetch(apiEndPoint + '/api/bot/leave', {\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          setActive(false)\r\n          toast.success('Bot successfully left chat')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => {\r\n        setActive(false)\r\n        toast.error(err ? err.message : 'Failed to leave from chat')\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Layout title=\"Channel\" subTitle=\"Dashboard\" videoLayout={true}>\r\n      {!isModerator && <BotModerator botUsername={botUsername} />}\r\n\r\n      <BotActive state={botActive} botUsername={botUsername} changeActive={changeActive} />\r\n\r\n      <Card className=\"videos_inner\">\r\n        <div className=\"vid-main-wrapper\">\r\n          <div className=\"vid-container\">\r\n            {!!channel ? <TwitchPlayer channel={channel} /> : <Loader />}\r\n          </div>\r\n\r\n          <div className=\"vid-list-container\">\r\n            <ul>\r\n              <ol id=\"vid-list\" style={{ 'lineHeight': 0 }}>\r\n                {!!channel && <TwitchChat channel={channel} />}\r\n              </ol>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Channel;\r\n","import { useState } from 'react';\r\n\r\nexport const useForm = (initialValues) => {\r\n  const [values, setValues] = useState(initialValues)\r\n\r\n  return {\r\n    values,\r\n    handleChange: (e) => {\r\n      setValues({\r\n        ...values,\r\n        [e.target.name]: e.target.value,\r\n      })\r\n    },\r\n    reset: () => setValues(initialValues)\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const NewCommandItem = ({ addCommand, toggleAdd }) => {\r\n  const { values, handleChange } = useForm({ tag: '', text: '', countdown: 0 })\r\n\r\n  const [errOne, setErrOne] = useState(false)\r\n  const [errTwo, setErrTwo] = useState(false)\r\n  const [errThree, setErrThree] = useState(false)\r\n\r\n  const errorOne = errOne ? ' error' : ''\r\n  const errorTwo = errTwo ? ' error' : ''\r\n  const errorThree = errThree ? ' error' : ''\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault()\r\n\r\n    const tag = values.tag.trim().replace('!', '')\r\n    const text = values.text.trim()\r\n\r\n    if (tag.length < 1) {\r\n      toast.error('Enter command tag')\r\n      setErrOne(true)\r\n      setErrTwo(false)\r\n      setErrThree(false)\r\n    } else if (text.length < 1) {\r\n      toast.error('Enter text')\r\n      setErrOne(false)\r\n      setErrTwo(true)\r\n      setErrThree(false)\r\n    } else if (values.countdown.length < 1) {\r\n      toast.error('Enter countdown')\r\n      setErrOne(false)\r\n      setErrTwo(false)\r\n      setErrThree(true)\r\n    } else {\r\n      addCommand({ tag, text, countdown: values.countdown * 1 })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className=\"command_form\" onSubmit={submit.bind(this)}>\r\n      <div className=\"command_prefix\">!</div>\r\n      <input\r\n        className={'input_text command_name active' + errorOne}\r\n        type=\"text\"\r\n        name=\"tag\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter command\"\r\n      />\r\n      <input\r\n        className={'input_text command_text active' + errorTwo}\r\n        type=\"text\"\r\n        name=\"text\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter text\"\r\n      />\r\n      <input\r\n        className={'input_text command_countdown active' + errorThree}\r\n        type=\"number\"\r\n        name=\"countdown\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter countdown (seconds)\"\r\n        defaultValue={values.countdown}\r\n      />\r\n      <div className=\"command_actions\">\r\n        <i onClick={toggleAdd} className=\"item_cancel command_new_cancel material-icons\" title=\"Chancel new command\">close</i>\r\n        <input className=\"btn\" type=\"submit\" value=\"Add\" />\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const CommandItem = ({ data, editCommand, deleteCommand }) => {\r\n  const { values, handleChange } = useForm({ tag: data.tag, text: data.text, countdown: data.countdown })\r\n\r\n  const [editAction, toggleEditAction] = useState(false)\r\n  const [errOne, setErrOne] = useState(false)\r\n  const [errTwo, setErrTwo] = useState(false)\r\n  const [errThree, setErrThree] = useState(false)\r\n\r\n  const active = editAction ? ' active' : ''\r\n  const errorOne = errOne ? ' error' : ''\r\n  const errorTwo = errTwo ? ' error' : ''\r\n  const errorThree = errThree ? ' error' : ''\r\n\r\n  const changeEditState = () => {\r\n    toggleEditAction(!editAction)\r\n    setErrOne(false)\r\n    setErrTwo(false)\r\n    setErrThree(false)\r\n  }\r\n\r\n  const submit = (id, e) => {\r\n    e.preventDefault()\r\n\r\n    const tag = values.tag.trim().replace('!', '')\r\n    const text = values.text.trim()\r\n\r\n    if (tag.length < 1) {\r\n      toast.error('Enter command tag')\r\n      setErrOne(true)\r\n      setErrTwo(false)\r\n      setErrThree(false)\r\n    } else if (text.length < 1) {\r\n      toast.error('Enter text')\r\n      setErrOne(false)\r\n      setErrTwo(true)\r\n      setErrThree(false)\r\n    } else if (values.countdown.length < 1) {\r\n      toast.error('Enter countdown')\r\n      setErrOne(false)\r\n      setErrTwo(false)\r\n      setErrThree(true)\r\n    } else {\r\n      setErrOne(false)\r\n      setErrTwo(false)\r\n      setErrThree(false)\r\n\r\n      changeEditState()\r\n      editCommand({ id, tag, text, countdown: values.countdown * 1 })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className=\"command_form\" onSubmit={submit.bind(this, data._id)}>\r\n      <div className=\"command_prefix\">!</div>\r\n      <input\r\n        className={'input_text command_name' + active + errorOne}\r\n        type=\"text\"\r\n        name=\"tag\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter command\"\r\n        defaultValue={data.tag}\r\n      />\r\n      <input\r\n        className={'input_text command_text' + active + errorTwo}\r\n        type=\"text\"\r\n        name=\"text\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter text\"\r\n        defaultValue={data.text}\r\n      />\r\n      <input\r\n        className={'input_text command_countdown' + active + errorThree}\r\n        type=\"number\"\r\n        name=\"countdown\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter countdown (seconds)\"\r\n        defaultValue={values.countdown}\r\n      />\r\n      <div className=\"command_actions\">\r\n        {!editAction ? (\r\n          <div className=\"action_block\">\r\n            <i onClick={changeEditState} className=\"command_edit material-icons\" title=\"Edit command\">create</i>\r\n            <i onClick={deleteCommand.bind(this, data._id)} className=\"item_delete command_delete material-icons\" title=\"Delete command\">delete</i>\r\n          </div>\r\n        ) : (\r\n          <div className=\"action_block\">\r\n            <i onClick={changeEditState} className=\"item_cancel command_edit_cancel material-icons\" title=\"Cancel changes\">close</i>\r\n            <input className=\"btn\" type=\"submit\" value=\"Save\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport '././style.css';\r\n\r\nconst Fab = ({ icon, title, onClick, className }) => {\r\n  const cssClass = !!className ? ' ' + className : ''\r\n\r\n  return (\r\n    <div onClick={onClick} className={'fab' + cssClass} title={title}>\r\n      <i className=\"material-icons\">{icon}</i>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Fab;\r\n","import React from 'react';\r\nimport '././style.css';\r\n\r\nconst Errorer = ({ message, size = 112, color = '#8e9399' }) => {\r\n  return (\r\n    <div className=\"empty-results\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} viewBox=\"0 0 24 24\">\r\n        <path d=\"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" fill={color} />\r\n      </svg>\r\n      <div className=\"empty_words\">\r\n        <div className=\"empty_top\">{message}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Errorer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getCookie, clearCookies } from 'components/support/Utils';\r\nimport { apiEndPoint } from 'config';\r\nimport { NewCommandItem } from './NewCommandItem';\r\nimport { CommandItem } from './CommandItem';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport Fab from 'components/partials/Fab';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport Errorer from 'components/partials/Errorer';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Commands = () => {\r\n  const history = useHistory()\r\n\r\n  const [showAdd, toggleAddState] = useState(false)\r\n  const [noData, setNoData] = useState(false)\r\n  const [items, setItems] = useState([])\r\n\r\n  useEffect(() => {\r\n    document.title = 'xlllBot - Commands'\r\n    const fetchCommands = async () => {\r\n      try {\r\n        const data = await fetch(apiEndPoint + '/api/commands/all', {\r\n          headers: {\r\n            Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n          }\r\n        })\r\n        if (data.status === 401) {\r\n          clearCookies()\r\n          toast.error('You are not authorized')\r\n          history.push('/')\r\n          return\r\n        }\r\n        const items = await data.json()\r\n\r\n        if (items.length > 0) {\r\n          items.reverse()\r\n          setItems(items)\r\n        } else {\r\n          setNoData(true)\r\n        }\r\n      } catch(e) {\r\n        setNoData(true)\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    fetchCommands()\r\n  }, [history])\r\n\r\n  const toggleAdd = () => {\r\n    toggleAddState(!showAdd)\r\n  }\r\n\r\n  const deleteCommand = (id) => {\r\n    fetch(apiEndPoint + '/api/commands/delete', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token')),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ id })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          setItems(items.filter(item => item._id !== id))\r\n          if (items.filter(item => item._id !== id).length === 0) {\r\n            setItems([])\r\n            setNoData(true)\r\n          }\r\n          toast.success('Command successfully deleted')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => toast.error(err ? err.message : 'Failed to delete command'))\r\n  }\r\n\r\n  const addCommand = (props) => {\r\n    fetch(apiEndPoint + '/api/commands/add', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token')),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(props)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          setNoData(false)\r\n          setItems([data, ...items])\r\n          toggleAdd()\r\n          toast.success('Command successfully added')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => toast.error(err ? err.message : 'Failed to adding command'))\r\n  }\r\n\r\n  const editCommand = (props) => {\r\n    fetch(apiEndPoint + '/api/commands/edit', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token')),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(props)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          toast.success('Command successfully changed')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => toast.error(err ? err.message : 'Failed to change command'))\r\n  }\r\n\r\n  return (\r\n    <Layout title=\"Commands\" subTitle=\"Dashboard\">\r\n      <Card title=\"Commands list\" action={\r\n        <Fab icon={showAdd ? 'close' : 'add'} title=\"Add new command\" onClick={toggleAdd} />\r\n      }>\r\n        {showAdd && <NewCommandItem addCommand={addCommand} toggleAdd={toggleAdd} />}\r\n        {items.length > 0 ? (\r\n          items.map(item => (\r\n            <CommandItem\r\n              key={item._id}\r\n              data={item}\r\n              editCommand={editCommand}\r\n              deleteCommand={deleteCommand}\r\n            />\r\n          ))\r\n        ) : (\r\n          !noData ? <Loader /> : <Errorer message=\"No commands yet\" />\r\n        )}\r\n      </Card>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Commands;\r\n","import React, { useState } from 'react';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const NewBadwordItem = ({ addBadword, toggleAdd }) => {\r\n  const { values, handleChange } = useForm({ word: '', duration: 300 })\r\n\r\n  const [errOne, setErrOne] = useState(false)\r\n  const [errTwo, setErrTwo] = useState(false)\r\n\r\n  const errorOne = errOne ? ' error' : ''\r\n  const errorTwo = errTwo ? ' error' : ''\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault()\r\n\r\n    const word = values.word.trim().toLowerCase()\r\n\r\n    if (word.length < 1) {\r\n      toast.error('Enter word')\r\n      setErrOne(true)\r\n      setErrTwo(false)\r\n    } else if (values.duration.length < 1) {\r\n      toast.error('Enter duration')\r\n      setErrOne(false)\r\n      setErrTwo(true)\r\n    } else {\r\n      addBadword({ word, duration: values.duration * 1 })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className=\"command_form\" onSubmit={submit.bind(this)}>\r\n      <input\r\n        className={'input_text badword_name active' + errorOne}\r\n        type=\"text\"\r\n        name=\"word\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter badword\"\r\n      />\r\n      <input\r\n        className={'input_text badword_duration active' + errorTwo}\r\n        type=\"number\"\r\n        name=\"duration\"\r\n        onChange={handleChange}\r\n        placeholder=\"Enter ban duration (seconds)\"\r\n        defaultValue={values.duration}\r\n      />\r\n      <div className=\"channel_actions\">\r\n        <i onClick={toggleAdd} className=\"item_cancel badword_new_cancel material-icons\" title=\"Cancel new badword\">close</i>\r\n        <input className=\"btn\" type=\"submit\" value=\"Add\" />\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport const BadwordItem = ({ data, deleteBadword }) => {\r\n  return (\r\n    <div className=\"command_form\">\r\n      <input className=\"input_text badword_name\" type=\"text\" placeholder=\"Badword\" defaultValue={data.word} />\r\n      <input className=\"input_text badword_duration\" type=\"text\" placeholder=\"Ban duration (seconds)\" defaultValue={data.duration} />\r\n      <div className=\"channel_actions\">\r\n        <i onClick={deleteBadword.bind(this, data._id)} className=\"item_delete badword_delete material-icons\" title=\"Delete badword\">delete</i>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getCookie, clearCookies } from 'components/support/Utils';\r\nimport { apiEndPoint } from 'config';\r\nimport { NewBadwordItem } from './NewBadwordItem';\r\nimport { BadwordItem } from './BadwordItem';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport Fab from 'components/partials/Fab';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport Errorer from 'components/partials/Errorer';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Badwords = () => {\r\n  const history = useHistory()\r\n\r\n  const [showAdd, toggleAddState] = useState(false)\r\n  const [noData, setNoData] = useState(false)\r\n  const [items, setItems] = useState([])\r\n\r\n  useEffect(() => {\r\n    document.title = 'xlllBot - Badwords'\r\n    const fetchBadwords = async () => {\r\n      try {\r\n        const data = await fetch(apiEndPoint + '/api/words/all', {\r\n          headers: {\r\n            Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n          }\r\n        })\r\n        if (data.status === 401) {\r\n          clearCookies()\r\n          toast.error('You are not authorized')\r\n          history.push('/')\r\n          return\r\n        }\r\n        const items = await data.json()\r\n\r\n        if (items.length > 0) {\r\n          items.reverse()\r\n          setItems(items)\r\n        } else {\r\n          setNoData(true)\r\n        }\r\n      } catch(e) {\r\n        setNoData(true)\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    fetchBadwords()\r\n  }, [history])\r\n\r\n  const toggleAdd = () => {\r\n    toggleAddState(!showAdd)\r\n  }\r\n\r\n  const deleteBadword = (id) => {\r\n    fetch(apiEndPoint + '/api/words/delete', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token')),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ id })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          setItems(items.filter(item => item._id !== id))\r\n          if (items.filter(item => item._id !== id).length === 0) {\r\n            setItems([])\r\n            setNoData(true)\r\n          }\r\n          toast.success('Badword successfully deleted')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => toast.error(err ? err.message : 'Failed to delete badword'))\r\n  }\r\n\r\n  const addBadword = (props) => {\r\n    fetch(apiEndPoint + '/api/words/add', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token')),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(props)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          setNoData(false)\r\n          setItems([data, ...items])\r\n          toggleAdd()\r\n          toast.success('Badword successfully added')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => toast.error(err ? err.message : 'Failed to adding badword'))\r\n  }\r\n\r\n  return (\r\n    <Layout title=\"Badwords\" subTitle=\"Dashboard\">\r\n      <Card title=\"Badwords list\" action={\r\n        <Fab icon={showAdd ? 'close' : 'add'} title=\"Add new badword\" onClick={toggleAdd} />\r\n      }>\r\n        {showAdd && <NewBadwordItem addBadword={addBadword} toggleAdd={toggleAdd} />}\r\n\r\n        {items.length > 0 ? (\r\n          items.map(item => (\r\n            <BadwordItem\r\n              key={item._id}\r\n              data={item}\r\n              deleteBadword={deleteBadword}\r\n            />\r\n          ))\r\n        ) : (\r\n          !noData ? <Loader /> : <Errorer message=\"No badwords yet\" />\r\n        )}\r\n      </Card>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Badwords;\r\n","import React from 'react';\r\nimport { toHHMMSS, counter } from 'components/support/Utils';\r\nimport './style.css';\r\n\r\nexport const VideoItem = ({ index, playIndex, data, chooseVideo, deleteVideo }) => {\r\n  const selected = playIndex === index ? ' selected' : ''\r\n\r\n  return (\r\n    <li\r\n      className={'video_item' + selected}\r\n      onClick={chooseVideo.bind(this, { id: data.yid, index })}\r\n      title={`Video requested: ${data.from.username}\\nPrice: ${data.from.price}`}\r\n    >\r\n      <div className=\"choose_vid\">\r\n        <span className=\"vid_thumb\" style={{ 'backgroundImage': `url(${data.thumb})` }}>\r\n          <div className=\"vid_duration\">{toHHMMSS(data.duration)}</div>\r\n        </span>\r\n        <div className=\"vid_info\">\r\n          <div className=\"desc\" title={data.title}>{data.title}</div>\r\n          <div className=\"owner\" title={data.owner}>{data.owner}</div>\r\n          <div className=\"views\">{counter(data.views)} views</div>\r\n        </div>\r\n        <div\r\n          className=\"remove_vid\"\r\n          onClick={deleteVideo.bind(this, data._id)}\r\n          title=\"Remove video from playlist\"\r\n        >\r\n          <i className=\"material-icons\">delete</i>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { timeFormat } from 'components/support/Utils';\r\nimport './style.css';\r\n\r\nexport const EventItem = ({ data }) => {\r\n  return (\r\n    <div className=\"event_item\">\r\n      <div className=\"event_time\">{timeFormat(data.time)}</div>\r\n      <div>{data.text}</div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getCookie } from 'components/support/Utils';\r\nimport { socket } from 'instance/Socket';\r\nimport { EventItem } from './EventItem';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport Errorer from 'components/partials/Errorer';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Events extends Component {\r\n  _isMounted = false;\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      response: [],\r\n      noData: false,\r\n      showClear: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.title = 'xlllBot - Events'\r\n    this._isMounted = true\r\n    socket.emit('event_items', { channel: getCookie('login') })\r\n    this.subscribeToEvents()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n  }\r\n\r\n  subscribeToEvents() {\r\n    if (!this._isMounted) return\r\n\r\n    socket.on('output_events', (data) => {\r\n      if (data.length > 0) {\r\n        this.setState({ response: data.reverse(), showClear: true })\r\n      } else {\r\n        this.setState({ noData: true })\r\n      }\r\n    })\r\n    socket.on('events_deleted', (data) => {\r\n      this.setState({ showClear: false })\r\n\r\n      if (data.deletedCount > 0) {\r\n        this.setState({ response: [], noData: true })\r\n        toast.success('Old events successfully deleted')\r\n      } else {\r\n        toast.info('Nothing to clear')\r\n      }\r\n    })\r\n    socket.on('new_event', (data) => {\r\n      if (data.channel === getCookie('login')) {\r\n        this.setState({ response: [data, ...this.state.response], noData: false })\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteEvents() {\r\n    socket.emit('delete_events', { channel: getCookie('login') })\r\n  }\r\n\r\n  render() {\r\n    const { response, showClear, noData } = this.state\r\n    const clearVis = showClear ? '' : ' none'\r\n\r\n    return (\r\n      <Layout title=\"Events\" subTitle=\"Dashboard\">\r\n        <Card title=\"Chat events by last 24 hrs\" action={\r\n          !noData && (\r\n            <div className={`clear${clearVis}`} onClick={this.deleteEvents}>\r\n              <i className=\"material-icons\">delete</i>\r\n              <span>Delete all events</span>\r\n            </div>\r\n          )\r\n        }>\r\n          {response.length > 0 ? (\r\n            response.map(item => (\r\n              <EventItem key={item._id} data={item} />\r\n            ))\r\n          ) : (\r\n            !noData ? <Loader /> : <Errorer message=\"No events yet\" />\r\n          )}\r\n        </Card>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Events;\r\n","import React, { useState } from 'react';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { toast } from 'react-toastify';\r\nimport './style.css';\r\n\r\nexport const SettingItem = ({ data, changeSetting }) => {\r\n  const { values, handleChange } = useForm({ value: data.value })\r\n\r\n  const [err, setErr] = useState(false)\r\n\r\n  const error = err ? ' error' : ''\r\n\r\n  const submit = (name, e) => {\r\n    e.preventDefault()\r\n\r\n    if (values.value.length < 1) {\r\n      toast.error('Enter price value')\r\n      setErr(true)\r\n    } else {\r\n      setErr(false)\r\n\r\n      changeSetting({ name, state: false, value: values.value * 1 })\r\n    }\r\n  }\r\n\r\n  const click = (name, e) => {\r\n    const state = !e.currentTarget.parentNode.children[0].checked\r\n\r\n    changeSetting({ name, state })\r\n  }\r\n\r\n  return (\r\n    data.value === null || data.value === undefined ? (\r\n      <div className=\"md-checkbox\">\r\n        <input id={data.name} type=\"checkbox\" defaultChecked={data.state} />\r\n        <label htmlFor={data.name} onClick={click.bind(this, data.name)} className=\"setting_item\">\r\n          <span>{data.description}</span>\r\n        </label>\r\n      </div>\r\n    ) : (\r\n      <form className=\"md-checkbox\" onSubmit={submit.bind(this, data.name)}>\r\n        <div className=\"setting_description\">{data.description}</div>\r\n        <div className=\"set_setting_value\">\r\n          <input\r\n            className={'input_text active' + error}\r\n            type=\"number\"\r\n            name=\"value\"\r\n            onChange={handleChange}\r\n            placeholder=\"Enter price\"\r\n            defaultValue={data.value}\r\n          />\r\n          <input className=\"btn\" type=\"submit\" value=\"Save\" />\r\n        </div>\r\n      </form>\r\n    )\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getCookie, clearCookies } from 'components/support/Utils';\r\nimport { apiEndPoint } from 'config';\r\nimport { SettingItem } from './SettingItem';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport Errorer from 'components/partials/Errorer';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Settings = () => {\r\n  const history = useHistory()\r\n\r\n  const [items, setItems] = useState([])\r\n  const [noData, setNoData] = useState(false)\r\n\r\n  useEffect(() => {\r\n    document.title = 'xlllBot - Settings'\r\n    const fetchSettings = async () => {\r\n      try {\r\n        const data = await fetch(apiEndPoint + '/api/settings/all', {\r\n          headers: {\r\n            Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token'))\r\n          }\r\n        })\r\n        if (data.status === 401) {\r\n          clearCookies()\r\n          toast.error('You are not authorized')\r\n          history.push('/')\r\n          return\r\n        }\r\n        const items = await data.json()\r\n\r\n        if (items.length > 0) {\r\n          setItems(items.sort((a, b) => a.sort - b.sort))\r\n        } else {\r\n          setNoData(true)\r\n        }\r\n      } catch(e) {\r\n        setNoData(true)\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    fetchSettings()\r\n  }, [history])\r\n\r\n  const changeSetting = (props) => {\r\n    fetch(apiEndPoint + '/api/settings/toggle', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: 'Basic ' + btoa(getCookie('login') + ':' + getCookie('token')),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(props)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!data.error) {\r\n          toast.success('Settings successfully saved')\r\n        } else throw Error(data.error)\r\n      })\r\n      .catch(err => toast.error(err ? err.message : 'Failed to save settings'))\r\n  }\r\n\r\n  return (\r\n    <Layout title=\"Settings\" subTitle=\"Dashboard\">\r\n      <Card title=\"Settings list\">\r\n        {items.length > 0 ? (\r\n          items.map(item => (\r\n            <SettingItem key={item._id} data={item} changeSetting={changeSetting} />\r\n          ))\r\n        ) : (\r\n          !noData ? <Loader /> : <Errorer message=\"Settings not exists\" />\r\n        )}\r\n      </Card>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\n\r\nexport const CommandItem = ({ data, type }) => {\r\n  return (\r\n    type === 'full' ? (\r\n      <div className=\"command_form\">\r\n        <input className=\"input_text command_name full\" type=\"text\" placeholder=\"Command\" defaultValue={data.name} />\r\n        <input className=\"input_text command_text\" type=\"text\" placeholder=\"Description\" defaultValue={data.text} />\r\n      </div>\r\n    ) : (\r\n      <div className=\"command_form\">\r\n        <input className=\"input_text command_name\" type=\"text\" placeholder=\"Short name\" defaultValue={data.short} />\r\n        <input className=\"input_text command_text\" type=\"text\" placeholder=\"Stream category\" defaultValue={data.game} />\r\n      </div>\r\n    )\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { apiEndPoint } from 'config';\r\nimport { CommandItem } from './CommandItem';\r\nimport Layout from 'components/partials/Layout';\r\nimport Card from 'components/partials/Card';\r\nimport { Loader } from 'components/partials/Loader';\r\nimport Errorer from 'components/partials/Errorer';\r\n\r\nconst AllCommand = () => {\r\n  const [items, setItems] = useState([])\r\n  const [noData, setNoData] = useState(false)\r\n  const commands = {\r\n    all: [{\r\n      name: '!up or !time or !uptime',\r\n      text: 'Stream duration'\r\n    }, {\r\n      name: '!old or !oldfag or !followage <username or empty>',\r\n      text: 'Channel follow period'\r\n    }, {\r\n      name: '!ping',\r\n      text: 'Game \\'Ping Pong\\''\r\n    }, {\r\n      name: '!size',\r\n      text: 'Game \\'Size\\''\r\n    }, {\r\n      name: '!sr <youtube link>',\r\n      text: 'Video request'\r\n    }],\r\n    mods: [{\r\n      name: '!mute, !timeout <username> <duration or empty>',\r\n      text: 'Timeout user'\r\n    }, {\r\n      name: '!ban, !permit <username> <reason or empty>',\r\n      text: 'Permanent ban user'\r\n    }, {\r\n      name: '!unban <username>',\r\n      text: 'Unban user'\r\n    }, {\r\n      name: '!skip',\r\n      text: 'Skip played video'\r\n    }, {\r\n      name: '!game <full game name or short>',\r\n      text: 'Set stream category. Short name is in the list below'\r\n    }, {\r\n      name: '!title <text>',\r\n      text: 'Set stream name'\r\n    }, {\r\n      name: '!poll or !vote <Question | variant1 | variant2 | ...>',\r\n      text: 'Create Strawpoll vote'\r\n    }]\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = 'xlllBot - All Commands'\r\n    const fetchGames = async () => {\r\n      try {\r\n        const data = await fetch(apiEndPoint + '/api/games')\r\n\r\n        const items = await data.json()\r\n\r\n        if (items.length > 0) {\r\n          setItems(items)\r\n        } else {\r\n          setNoData(true)\r\n        }\r\n      } catch(e) {\r\n        setNoData(true)\r\n        console.error(e)\r\n      }\r\n    }\r\n\r\n    fetchGames()\r\n  }, [])\r\n\r\n  return (\r\n    <Layout title=\"General commands\">\r\n      <Card title=\"Commands list\">\r\n        {commands.all.map((item, index) => (\r\n          <CommandItem key={index + '_all'} data={item} type=\"full\" />\r\n        ))}\r\n        <h4 className=\"sub_header\">For moderators and owner</h4>\r\n        {commands.mods.map((item, index) => (\r\n          <CommandItem key={index + '_mods'} data={item} type=\"full\" />\r\n        ))}\r\n      </Card>\r\n\r\n      <Card title=\"Short categores names list\">\r\n        {items.length > 0 ? (\r\n          items.map(item => (\r\n            <CommandItem key={item._id} data={item} type=\"short\" />\r\n          ))\r\n        ) : (\r\n          !noData ? <Loader /> : <Errorer message=\"Commands not exists\" />\r\n        )}\r\n      </Card>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default AllCommand;\r\n","import React, { useEffect } from 'react';\r\n\r\nexport const Auth = () => {\r\n\r\n  useEffect(() => {\r\n    document.title = 'xlllBot - Log in'\r\n    setTimeout(() => window.close(), 2000)\r\n  })\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"authModal\">\r\n        <h2 className=\"success_title\">Successfully logged in</h2>\r\n        <div className=\"auth_text\">You can now close this window.</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { apiEndPoint } from 'config';\r\n\r\nexport const AuthError = () => {\r\n  document.title = 'xlllBot - Log in'\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"authModal\">\r\n        <h2 className=\"error_title\">Failed to login</h2>\r\n        <div className=\"auth_text\">Try again.</div>\r\n        <div className=\"auth_form\">\r\n            <a href={apiEndPoint + '/auth/twitch'} class=\"twitch_btn signin\">\r\n              <svg className=\"tw-glitch-logo__svg\" overflow=\"visible\" width=\"40px\" height=\"40px\" version=\"1.1\" viewBox=\"0 0 40 40\" x=\"0px\" y=\"0px\">\r\n                <polygon className=\"tw-glitch-logo__body\" points=\"13 8 8 13 8 31 14 31 14 36 19 31 23 31 32 22 32 8\" />\r\n                <polygon className=\"tw-glitch-logo__face\" points=\"26 25 30 21 30 10 14 10 14 25 18 25 18 29 22 25\" transform=\"translate(0 0)\" />\r\n                <path className=\"tw-glitch-logo__eyes\" d=\"M20,14 L22,14 L22,20 L20,20 L20,14 Z M27,14 L27,20 L25,20 L25,14 L27,14 Z\" transform=\"translate(0 0)\" />\r\n              </svg>\r\n              Sign in via Twitch\r\n            </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const NotFound = () => {\r\n  document.title = 'xlllBot - 404 Not Found'\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"authModal\">\r\n        <h2>404 Not Found</h2>\r\n        <div className=\"auth_form\">\r\n          <Link to=\"/\" className=\"twitch_btn signin\">Go to home page</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport CustomScrollbar from 'components/support/CustomScrollbar';\nimport PrivateRoute from 'components/support/PrivateRoute';\nimport GeneralRoute from 'components/support/GeneralRoute';\nimport { socket } from 'instance/Socket';\nimport Home from 'components/home';\nimport Channel from 'components/channel';\nimport Commands from 'components/commands';\nimport Badwords from 'components/badwords';\nimport Videos from 'components/videos';\nimport Events from 'components/events';\nimport Settings from 'components/settings';\nimport AllCommands from 'components/allcommands';\nimport { Auth } from 'components/auth';\nimport { AuthError } from 'components/auth/error'\nimport { NotFound } from 'components/error';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass App extends Component {\n  componentDidMount() {\n    socket.on('alert', (data) => {\n      toast.error(data.message)\n    })\n  }\n\n  render() {\n    return (\n      <CustomScrollbar className=\"view\">\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <PrivateRoute path=\"/dashboard/channel\" component={Channel} />\n            <PrivateRoute path=\"/dashboard/commands\" component={Commands} />\n            <PrivateRoute path=\"/dashboard/badwords\" component={Badwords} />\n            <PrivateRoute path=\"/dashboard/videos\" component={Videos} />\n            <PrivateRoute path=\"/dashboard/events\" component={Events} />\n            <PrivateRoute path=\"/dashboard/settings\" component={Settings} />\n            <GeneralRoute path=\"/commands\" component={AllCommands} />\n            <Route path=\"/auth\" exact component={Auth} />\n            <Route path=\"/auth/error\" component={AuthError} />\n            <Route component={NotFound} />\n          </Switch>\n        </Router>\n\n        <ToastContainer position=\"bottom-right\" autoClose={2000} pauseOnFocusLoss={false} />\n      </CustomScrollbar>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.css';\nimport App from 'App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}